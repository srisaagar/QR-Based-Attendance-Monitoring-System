{"ast":null,"code":"import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = function () {\n  function CameraSelectionUi(cameras) {\n    this.selectElement = BaseUiElementFactory.createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n    this.cameras = cameras;\n    this.options = [];\n  }\n  CameraSelectionUi.prototype.render = function (parentElement) {\n    var cameraSelectionContainer = document.createElement(\"span\");\n    cameraSelectionContainer.style.marginRight = \"10px\";\n    var numCameras = this.cameras.length;\n    if (numCameras === 0) {\n      throw new Error(\"No cameras found\");\n    }\n    if (numCameras === 1) {\n      cameraSelectionContainer.style.display = \"none\";\n    } else {\n      var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n      cameraSelectionContainer.innerText = \"\".concat(selectCameraString, \" (\").concat(this.cameras.length, \")  \");\n    }\n    var anonymousCameraId = 1;\n    for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n      var camera = _a[_i];\n      var value = camera.id;\n      var name_1 = camera.label == null ? value : camera.label;\n      if (!name_1 || name_1 === \"\") {\n        name_1 = [Html5QrcodeScannerStrings.anonymousCameraPrefix(), anonymousCameraId++].join(\" \");\n      }\n      var option = document.createElement(\"option\");\n      option.value = value;\n      option.innerText = name_1;\n      this.options.push(option);\n      this.selectElement.appendChild(option);\n    }\n    cameraSelectionContainer.appendChild(this.selectElement);\n    parentElement.appendChild(cameraSelectionContainer);\n  };\n  CameraSelectionUi.prototype.disable = function () {\n    this.selectElement.disabled = true;\n  };\n  CameraSelectionUi.prototype.isDisabled = function () {\n    return this.selectElement.disabled === true;\n  };\n  CameraSelectionUi.prototype.enable = function () {\n    this.selectElement.disabled = false;\n  };\n  CameraSelectionUi.prototype.getValue = function () {\n    return this.selectElement.value;\n  };\n  CameraSelectionUi.prototype.hasValue = function (value) {\n    for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n      var option = _a[_i];\n      if (option.value === value) {\n        return true;\n      }\n    }\n    return false;\n  };\n  CameraSelectionUi.prototype.setValue = function (value) {\n    if (!this.hasValue(value)) {\n      throw new Error(\"\".concat(value, \" is not present in the camera list.\"));\n    }\n    this.selectElement.value = value;\n  };\n  CameraSelectionUi.prototype.hasSingleItem = function () {\n    return this.cameras.length === 1;\n  };\n  CameraSelectionUi.prototype.numCameras = function () {\n    return this.cameras.length;\n  };\n  CameraSelectionUi.create = function (parentElement, cameras) {\n    var cameraSelectUi = new CameraSelectionUi(cameras);\n    cameraSelectUi.render(parentElement);\n    return cameraSelectUi;\n  };\n  return CameraSelectionUi;\n}();\nexport { CameraSelectionUi };\n//# sourceMappingURL=camera-selection-ui.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}